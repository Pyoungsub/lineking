(()=>{"use strict";var e={663:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ImageEncoder=void 0;const i=o(549),n=o(747);t.ImageEncoder=class{constructor(){this.isBatching=!1,this.fileExtensionExpression=/(?:\.([^.]+))?$/,this.imageExtensions=[".png",".jpg",".jpeg",".gif",".webp",".ico"],this.imageMimeTypes=new Map([[".png","image/png"],[".jpg","image/jpg"],[".jpeg","image/jpeg"],[".gif","image/gif"],[".webp","image/webp"],[".ico","image/x-icon"]])}filePathHasValidExtension(e){if(e){const t=this.getFileExtension(e);return t&&this.imageExtensions.some((e=>e===t.toLowerCase()))}return!1}imageEncode(e){if(this.filePathHasValidExtension(e)){const t=(this.getFileExtension(e)||"").toLowerCase();switch(t){case".png":case".jpg":case".jpeg":case".gif":case".webp":case".ico":return`data:${this.imageMimeTypes.get(t)};base64,${n.readFileSync(e,{encoding:"base64"})}`}}return!1}textEncodeToBase64(e){if(void 0===e)return"";const t=e.document;var o="";return e.selections.forEach((e=>{let n=t.getText(new i.Range(e.start,e.end)),s=Buffer.from(n);o+=s.toString("base64")+"\n"})),o}textDecodeBase64ToAscii(e){if(void 0===e)return"";const t=e.document;var o="";return e.selections.forEach((e=>{let n=t.getText(new i.Range(e.start,e.end)),s=Buffer.from(n,"base64");o+=s.toString("ascii")+"\n"})),o}getFileExtension(e){if(!e)return null;const t=this.fileExtensionExpression.exec(e);return t?t[0]:null}}},747:e=>{e.exports=require("fs")},549:e=>{e.exports=require("vscode")}},t={};function o(i){var n=t[i];if(void 0!==n)return n.exports;var s=t[i]={exports:{}};return e[i](s,s.exports,o),s.exports}var i={};(()=>{var e=i;Object.defineProperty(e,"__esModule",{value:!0}),e.deactivate=e.activate=void 0;const t=o(549),n=o(663);t.window.createOutputChannel("Docs: Image compression"),e.activate=function(e){[t.commands.registerCommand("img-contextual.encodeToB64",(e=>{const o=(new n.ImageEncoder).imageEncode(e.fsPath);o?(t.env.clipboard.writeText(o||""),t.window.showInformationMessage("Copied to clipboard.")):t.window.showErrorMessage("Can't encode this file.")})),t.commands.registerCommand("img-contextual.encodeTextToB64",(()=>{const e=(new n.ImageEncoder).textEncodeToBase64(t.window.activeTextEditor);e?(t.env.clipboard.writeText(e||""),t.window.showInformationMessage("Copied to clipboard.")):t.window.showErrorMessage("Can't encode selected lines.")})),t.commands.registerCommand("img-contextual.decodeB64ToAscii",(()=>{const e=(new n.ImageEncoder).textDecodeBase64ToAscii(t.window.activeTextEditor);e?(t.env.clipboard.writeText(e||""),t.window.showInformationMessage("Copied to clipboard.")):t.window.showErrorMessage("Can't decode selected lines.")}))].forEach((t=>e.subscriptions.push(t)))},e.deactivate=function(){}})(),module.exports=i})();
//# sourceMappingURL=extension.js.map